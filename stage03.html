<!DOCTYPE html>
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html" charset="utf-8" />
      <title>Artist Portfolio: Heesoo Kwon Test</title>
      <!-- BabylonJSのCDN -->
      <script src="https://preview.babylonjs.com/babylon.js"></script>
      <!-- Babylon.jsの3DモデルローダーのCDN -->
      <script src="https://preview.babylonjs.com/loaders/babylonjs.loaders.min.js"></script>
      <!-- 依存ライブラリであるpep.jsのCDN -->
      <script src="https://code.jquery.com/pep/0.4.1/pep.js"></script>
   </head>
   <body>
      <a href="./index.html" class="back">← Go Back :)</a>
      <!-- <h1 class="logo">Heesoo Test Da yo</h1> -->
      <canvas id="renderCanvas"></canvas>

      <style>
         html,
         body {
            overflow: hidden;
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            position: relative;
         }

         #renderCanvas {
            width: 100%;
            height: 100%;
            touch-action: none;
         }

         .back {
            color: #fff;
            position: absolute;
            bottom: 10px;
            left: 10px;
            display: block;
         }

         .logo {
            position: absolute;
            top: 0px;
            left: 40px;
            font-size: 4rem;
            font-weight: bold;
            color: #fff;
         }

         a {
            outline: none;
         }

         a:focus,
         *:focus {
            outline: none;
         }
      </style>

      <script>
         // canvasの定義
         let canvas = document.getElementById("renderCanvas");
         // 3D engineのロード
         let engine = new BABYLON.Engine(canvas, true);

         window.addEventListener("DOMContentLoaded", function () {
            // ここにシーンを作るスクリプトを記述する

            let createScene = function () {
               // sceneオブジェクトの作成・おまじない
               // This creates a basic Babylon Scene object (non-mesh)
               var scene = new BABYLON.Scene(engine);

               /********** DEVICE ORIENTATION CAMERA EXAMPLE **************************/

               // This creates and positions a device orientation camera
               var camera = new BABYLON.DeviceOrientationCamera(
                  "DevOr_camera",
                  new BABYLON.Vector3(0, 0, 0),
                  scene
               );

               // This targets the camera to scene origin
               camera.setTarget(new BABYLON.Vector3(0, 0, 10));

               // This attaches the camera to the canvas
               camera.attachControl(canvas, true);
               /**************************************************************/

               // This creates a light, aiming 0,1,0 - to the sky (non-mesh)
               var light = new BABYLON.HemisphericLight(
                  "light",
                  new BABYLON.Vector3(0, 1, 0),
                  scene
               );

               //Materials
               var redMat = new BABYLON.StandardMaterial("red", scene);
               redMat.diffuseColor = new BABYLON.Color3(1, 0, 0);
               redMat.emissiveColor = new BABYLON.Color3(1, 0, 0);
               redMat.specularColor = new BABYLON.Color3(1, 0, 0);

               var greenMat = new BABYLON.StandardMaterial("green", scene);
               greenMat.diffuseColor = new BABYLON.Color3(0, 1, 0);
               greenMat.emissiveColor = new BABYLON.Color3(0, 1, 0);
               greenMat.specularColor = new BABYLON.Color3(0, 1, 0);

               var blueMat = new BABYLON.StandardMaterial("blue", scene);
               blueMat.diffuseColor = new BABYLON.Color3(0, 0, 1);
               blueMat.emissiveColor = new BABYLON.Color3(0, 0, 1);
               blueMat.specularColor = new BABYLON.Color3(0, 0, 1);

               // Shapes
               var plane1 = new BABYLON.Mesh.CreatePlane(
                  "plane1",
                  3,
                  scene,
                  true,
                  BABYLON.Mesh.DOUBLESIDE
               );
               plane1.position.x = -3;
               plane1.position.z = 0;
               plane1.material = redMat;

               var plane2 = new BABYLON.Mesh.CreatePlane(
                  "plane2",
                  3,
                  scene,
                  true,
                  BABYLON.Mesh.DOUBLESIDE
               );
               plane2.position.x = 3;
               plane2.position.z = -1.5;
               plane2.material = greenMat;

               var plane3 = new BABYLON.Mesh.CreatePlane(
                  "plane3",
                  3,
                  scene,
                  true,
                  BABYLON.Mesh.DOUBLESIDE
               );
               plane3.position.x = 3;
               plane3.position.z = 1.5;
               plane3.material = blueMat;

               var ground = BABYLON.Mesh.CreateGround(
                  "ground1",
                  10,
                  10,
                  2,
                  scene
               );

               //360動画
               // var videoDome = new BABYLON.VideoDome(
               //    "videoDome",
               //    ["./assets/video/stage02.mp4"],
               //    {
               //       resolution: 72,
               //       clickToPlay: true,
               //    },
               //    scene
               // );

               return scene;
            };

            let scene = createScene();
            engine.runRenderLoop(function () {
               scene.render();
               // scene.debugLayer.show();
            });

            //背景色変更
            scene.clearColor = new BABYLON.Color3(0.5, 0.8, 0.5);
         });

         window.addEventListener("resize", function () {
            engine.resize();
         });
      </script>
   </body>
</html>
