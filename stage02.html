<!DOCTYPE html>
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html" charset="utf-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
      <meta name="viewport" content="width=device-width,initial-scale=1" />
      <!-- キャッシュ無効 -->
      <meta http-equiv="Pragma" content="no-cache" />
      <meta http-equiv="Cache-Control" content="no-cache" />
      <meta http-equiv="Expires" content="0" />

      <title>Artist Portfolio: Heesoo Kwon Test</title>
      <!-- BabylonJSのCDN -->
      <script src="https://preview.babylonjs.com/babylon.js"></script>
      <!-- Babylon.jsの3DモデルローダーのCDN -->
      <script src="https://preview.babylonjs.com/loaders/babylonjs.loaders.min.js"></script>
      <!-- 依存ライブラリであるpep.jsのCDN -->
      <script src="https://code.jquery.com/pep/0.4.1/pep.js"></script>
   </head>
  
   <body>
      <!-- Babylon.js のレンダリング内容を表示するための Canvas タグ-->
      <canvas id="renderCanvas"></canvas>
      <script>
          // Babylon.js が描画する内容を WebGL などの低レイヤーな層に
          // 橋渡しするための Engine を描画対象の canvas エレメントで初期化する
          const canvas = document.getElementById('renderCanvas');
          const engine = new BABYLON.Engine(canvas, true);
  
          // Engine で描画する Scene を作成する関数
          const createScene = function () {
              const scene = new BABYLON.Scene(engine);
  
              // つねに原点を中心として回転するカメラを作成する
              const camera = new BABYLON.ArcRotateCamera('Camera', 1, 1, 1, new BABYLON.Vector3(0, 0, 0), scene);
  
              // カメラの視野角を 90 度に設定 (人間の視野角を想定)
              const cameraFovRadian = 90 * (Math.PI / 180);
              camera.fov = cameraFovRadian
  
              // Camera の操作を canvas 上で可能にする
              camera.attachControl(canvas, true);
  
              // 原点に自然光を設置する
              const light = new BABYLON.HemisphericLight('Light', new BABYLON.Vector3(0, 0, 0), scene);
  
              // 360 動画をレンダリングするための VideoDome を生成する
              // 第二引数には video エレメントか動画の URL or Path を指定する
              const videoDome = new BABYLON.VideoDome(
                  'VideoDome',
                  './assets/video/stage02.mp4',
                  {
                     resolution: 32,
                      clickToPlay: true
                  },
                  scene
              );
  
              // 描画する準備の整った Scene を返却する
              return scene;
          };
  
          // 動画再生を行うための Scene を生成する
          const scene = createScene();
  
          // Scene をレンダリングループの中で描画する
          engine.runRenderLoop(() => {
              scene.render();
          });
  
          // ブラウザのリサイズ処理をした際に適切に描画内容がリサイズされるようにする
          window.addEventListener('resize', function () {
             engine.resize();
          });
      </script>
  </body>


            
   </body>
</html>
